{"ast":null,"code":"import * as types from './actionTypes';\nimport { auth } from '../firebaseConfig/fbConfig';\nimport db from '../firebaseConfig/fbConfig';\n\nconst loginstart = () => ({\n  type: types.LOGIN_START\n});\n\nconst loginsuccess = user => ({\n  type: types.LOGIN_SUCCESS,\n  payload: user\n});\n\nconst loginerror = error => ({\n  type: types.LOGIN_ERROR,\n  payload: error\n});\n\nconst registerstart = () => ({\n  type: types.REGISTER_START\n});\n\nconst registersuccess = user => ({\n  type: types.REGISTER_SUCCESS,\n  payload: user\n});\n\nconst registererror = error => ({\n  type: types.REGISTER_ERROR,\n  payload: error\n});\n\nconst logoutstart = () => ({\n  type: types.LOGOUT_START\n});\n\nconst logoutsuccess = () => ({\n  type: types.LOGOUT_SUCCESS\n});\n\nconst logouterror = () => ({\n  type: types.LOGOUT_ERROR\n});\n\nexport const setuser = user => ({\n  type: types.SET_USER,\n  payload: user\n});\nexport const userRole = role => ({\n  type: types.USER_ROLE,\n  payload: role\n});\nexport const hideElement = boolean => ({\n  type: types.HIDE_ELEMENT,\n  payload: boolean\n});\nexport const registerInitiate = (mail, password, displayName, role) => {\n  var actionCodeSettings = {\n    // URL you want to redirect back to. The domain (www.example.com) for this\n    // URL must be in the authorized domains list in the Firebase Console.\n    url: 'http://localhost:3000/',\n    // This must be true.\n    handleCodeInApp: true\n  };\n  return function (dispatch) {\n    dispatch(registerstart());\n    auth.createUserWithEmailAndPassword(mail, password).then(_ref => {\n      let {\n        user\n      } = _ref;\n      user.updateProfile({\n        displayName\n      });\n      db.collection('user').doc(user.uid).set({\n        uid: user.uid,\n        mail,\n        role\n      });\n      dispatch(registersuccess(user));\n    }).catch(error => dispatch(registererror(error)));\n    auth.sendSignInLinkToEmail(mail, actionCodeSettings).then(() => {\n      // The link was successfully sent. Inform the user.\n      // Save the email locally so you don't need to ask the user for it again\n      // if they open the link on the same device.\n      window.localStorage.setItem('emailForSignIn', mail); // ...\n    });\n  };\n};\nexport const loginInitiate = (mail, password) => {\n  return function (dispatch) {\n    dispatch(loginstart());\n    auth.signInWithEmailAndPassword(mail, password).then(_ref2 => {\n      let {\n        user\n      } = _ref2;\n      dispatch(loginsuccess(user));\n    }).catch(error => {\n      dispatch(loginerror(error.message));\n    });\n  };\n};\nexport const logoutinitiate = () => {\n  return function (dispatch) {\n    dispatch(logoutstart());\n    auth.signOut().then(resp => {\n      dispatch(logoutsuccess(resp));\n    }).catch(error => {\n      dispatch(logouterror(error.message));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/admin/Desktop/React/website-monitoring/src/Actions/authaction.js"],"names":["types","auth","db","loginstart","type","LOGIN_START","loginsuccess","user","LOGIN_SUCCESS","payload","loginerror","error","LOGIN_ERROR","registerstart","REGISTER_START","registersuccess","REGISTER_SUCCESS","registererror","REGISTER_ERROR","logoutstart","LOGOUT_START","logoutsuccess","LOGOUT_SUCCESS","logouterror","LOGOUT_ERROR","setuser","SET_USER","userRole","role","USER_ROLE","hideElement","boolean","HIDE_ELEMENT","registerInitiate","mail","password","displayName","actionCodeSettings","url","handleCodeInApp","dispatch","createUserWithEmailAndPassword","then","updateProfile","collection","doc","uid","set","catch","sendSignInLinkToEmail","window","localStorage","setItem","loginInitiate","signInWithEmailAndPassword","message","logoutinitiate","signOut","resp"],"mappings":"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","sourcesContent":["import * as types from './actionTypes'\nimport {auth} from '../firebaseConfig/fbConfig'\nimport db from '../firebaseConfig/fbConfig'\nconst loginstart = () => ({\n    type:types.LOGIN_START\n})\nconst loginsuccess = (user) =>({\n    type:types.LOGIN_SUCCESS,\n    payload:user\n})\nconst loginerror = (error) => ({\n    type:types.LOGIN_ERROR,\n    payload:error\n})\n\nconst registerstart = () =>({\n    type:types.REGISTER_START\n})\nconst registersuccess = (user) =>({\n    type:types.REGISTER_SUCCESS,\n    payload:user\n})\nconst registererror = (error) =>({\n    type:types.REGISTER_ERROR,\n    payload:error\n})\nconst logoutstart = () => ({\n    type:types.LOGOUT_START\n})\nconst logoutsuccess = () =>({\n    type:types.LOGOUT_SUCCESS\n})\nconst logouterror = () => ({\n    type:types.LOGOUT_ERROR\n})\n\nexport const setuser = (user) =>({\n    type:types.SET_USER,\n    payload:user\n})\nexport const userRole = (role) =>({\n    type:types.USER_ROLE,\n    payload:role\n})\nexport const hideElement = (boolean) =>({\n    type:types.HIDE_ELEMENT,\n    payload:boolean\n})\nexport const registerInitiate = (mail,password,displayName,role) => {\n    var actionCodeSettings = {\n        // URL you want to redirect back to. The domain (www.example.com) for this\n        // URL must be in the authorized domains list in the Firebase Console.\n        url: 'http://localhost:3000/',\n        // This must be true.\n        handleCodeInApp: true,\n      };\n    return function(dispatch){\n        dispatch(registerstart());\n        auth.createUserWithEmailAndPassword(mail,password)\n        .then(({user})=>{\n            user.updateProfile({\n                displayName\n            })\n            db.collection('user').doc(user.uid).set({uid:user.uid,mail,role})\n            dispatch(registersuccess(user))\n        })\n        .catch((error)=>dispatch(registererror(error)))\n        auth.sendSignInLinkToEmail(mail, actionCodeSettings)\n        .then(() => {\n            // The link was successfully sent. Inform the user.\n            // Save the email locally so you don't need to ask the user for it again\n            // if they open the link on the same device.\n            window.localStorage.setItem('emailForSignIn', mail);\n            // ...\n          })\n        \n    }\n}\n\nexport const loginInitiate = (mail,password) => {\n    return function(dispatch){\n        dispatch(loginstart())\n        auth.signInWithEmailAndPassword(mail,password)\n        .then(({user})=>{\n            dispatch(loginsuccess(user))\n        })\n        .catch((error)=>{dispatch(loginerror(error.message))})\n    }\n}\n\nexport const logoutinitiate = () =>{\n    return function(dispatch){\n        dispatch(logoutstart())\n        auth.signOut()\n        .then((resp)=>{dispatch(logoutsuccess(resp))})\n        .catch((error)=>{dispatch(logouterror(error.message))})\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}